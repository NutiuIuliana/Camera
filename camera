var video = document.getElementById("video");

video.addEventListener("touchstart", capteaza);
video.addEventListener("mousedown", capteaza);

function on_cam_success(stream) {
    video.srcObject = stream;
    video.play(); // Asigură-te că video începe să ruleze
}

function on_cam_error(err) {
    alert("error: " + err.message);
}

var constraints = { audio: false, video: true };

navigator.mediaDevices.getUserMedia(constraints)
    .then(on_cam_success)
    .catch(on_cam_error);

function capteaza() {
    var c = document.getElementById("canvas");
    c.width = 640;  // Setează lățimea dorită
    c.height = 480; // Setează înălțimea dorită
    var ctx = c.getContext("2d");
    ctx.drawImage(video, 0, 0, c.width, c.height);
}
